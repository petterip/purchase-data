{% extends "base.html" %}
{% block content %}
<style type="text/css">
  body {
    font-family: sans-serif;
  }
  svg {
    margin-left: auto;
    margin-right: auto;
    display: inline-block;

    padding: 0;
    width: 100%;
    height: 100%;

    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    cursor: default;
  }
  div.credits svg {
    width: 16px;
    height: 16px;
    vertical-align: middle;
  }
  div.hGraph-container {
    left: 0;
    margin: 0;
    padding: 0;
    height: 88%;
    width: 100%;
    display: inline-block;
    position: absolute;
    vertical-align: middle;

  }
  div.credits {
    position: absolute;
    font-size: 0.9em;
    left: 1em;
    bottom: 2em;
    color: grey;
  }
  div.header {
    position: absolute;
    display: block;
    font-size: 1.5em;
    font-weight: bold;
    left: 1.5em;
    top: 4em;
    color: #777;
    z-index: -99999;
    text-shadow: 5px 5px 8px #ddd;
    line-height: 0.8em;
  }
  div.header small {
    font-weight: normal;
    font-size: 70%;
    display: block;
  }
  div.credits img {
    height: 1.2em;
    vertical-align: -2px;
  }
</style>

    <div class="header">Grocery shopping datasets <small>(2 sets)<small></div>
    <div class="hGraph-container"></div>

<div class="credits">
Based on <svg height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z"></path></svg>
<a href="https://github.com/ledancs/hFigures">hFigures</a> by Andres Ledesma
</div>

{% endblock %}
{% block page-scripts %}

<script charset="utf-8" src="https://interact.oulu.fi/hFigures/hFigures/d3.js"></script>
<script>

  var groups = [

    {
      label: "Sugar, confectionar",
      measurements:[
        {
          min: 10,
          max: 35,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 45
            },
            {
              timestamp: 1423742720,
              value: 50
            }
          ]
        }
      ]
    },


    {
      label: "Beverages",
      measurements:[
        {
          min: 10,
          max: 40,
          yellow_max: 30,
          red_max: 40,
          units: "dl/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 45
            },
            {
              timestamp: 1423742720,
              value: 50
            }
          ]
        }
      ]
    },

    {
      label: "Alcoholic drinks",
      measurements:[
        {
          min: 0,
          max: 3,
          yellow_max: 3,
          red_max: 4,
          units: "dl/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 1
            },
            {
              timestamp: 1423742720,
              value: 3
            }
          ]
        }
      ]
    },


    {
      label: "Other ingredients",
      measurements:[
        {
          min: 0,
          max: 40,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 15
            },
            {
              timestamp: 1423742720,
              value:19
            }
          ]
        }
      ]
    },

    {
      label: "Vegetables",
      measurements:[
        {
          min: 31,
          max: 50,
          yellow_min: 31,
          red_min: 21,
          units: "g/day",
          label: "Root vegetables",
          samples: [
            {
              timestamp: 1420798224,
              value: 31
            },
            {
              timestamp: 1423742720,
              value: 21
            }
          ]
        },
        {
          min: 1,
          max: 25,
          yellow_min: 4,
          red_min: 1,
          units: "g/day",
          label: "Leaf vegetables",
          samples: [
            {
              timestamp: 1420798224,
              value: 17
            },
            {
              timestamp: 1423742720,
              value: 5
            }
          ]
        },
        {
          min: 60,
          max: 75,
          yellow_min: 50,
          red_min: 30,
          units: "g/day",
          label: "Fruit vegetables",
          samples: [
            {
              timestamp: 1423742720,
              value: 68
            },
            {
              timestamp: 1420798224,
              value: 72
            }
          ]
        },
        {
          min: 10,
          max: 60,
          yellow_min: 2,
          red_min: 1,
          units: "g/day",
          label: "Other vegetables",
          samples: [
            {
              timestamp: 1420798224,
              value: 44
            },
            {
              timestamp: 1423742720,
              value: 16
            }
          ]
        }
      ]
    },
    {
      label: "Legumes, nuts",
      measurements:[
        {
          min: 10,
          max: 40,
          yellow_min: 10,
          red_min: 1,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 6
            },
            {
              timestamp: 1423742720,
              value: 20
            }
          ]
        }
      ]
    },
    {
      label: "Potato",
      measurements:[
        {
          min: 10,
          max: 100,
          yellow_min: 20,
          red_min: 10,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 11
            },
            {
              timestamp: 1423742720,
              value: 12
            }
          ]
        }
      ]
    },

    {
      label: "Fruit, berries",
      measurements:[
        {
          min: 20,
          max: 150,
          yellow_min: 30,
          red_min: 20,
          units: "g/day",
          label: "Citrus fruit",
          samples: [
            {
              timestamp: 1420798224,
              value: 41
            },
            {
              timestamp: 1423742720,
              value: 50
            }
          ]
        },
        {
          min: 30,
          max: 50,
          yellow_min: 2,
          red_min: 1,
          units: "g/day",
          label: "Malaceous fruit",
          samples: [
            {
              timestamp: 1420798224,
              value: 35
            },
            {
              timestamp: 1423742720,
              value: 45
            }
          ]
        },
        {
          min: 40,
          max: 50,
          yellow_min: 3,
          red_min: 2,
          units: "g/day",
          label: "Other fruit",
          samples: [
            {
              timestamp: 1420798224,
              value: 43
            },
            {
              timestamp: 1423742720,
              value: 41
            }
          ]
        },
        {
          min: 10,
          max: 60,
          yellow_min: 10,
          red_min: 3,
          units: "g/day",
          label: "Berries",
          samples: [
            {
              timestamp: 1420798224,
              value: 18
            },
            {
              timestamp: 1423742720,
              value: 20
            }
          ]
        },
        {
          min: 50,
          max: 100,
          yellow_min: 40,
          red_min: 29,
          units: "g/day",
          label: "Juices",
          samples: [
            {
              timestamp: 1420798224,
              value: 65
            },
            {
              timestamp: 1423742720,
              value: 100
            }
          ]
        }
      ]
    },
    {
      label: "Cereals",
      measurements:[
        {
          min: 30,
          max: 80,
          yellow_min: 2,
          red_min: 1,
          units: "g/day",
          label: "Wheat",
          samples: [
            {
              timestamp: 1420798224,
              value: 60
            },
            {
              timestamp: 1423742720,
              value: 52
            }
          ]
        },
        {
          min: 20,
          max: 60,
          yellow_min: 1,
          red_min: 0,
          units: "g/day",
          label: "Rye",
          samples: [
            {
              timestamp: 1420798224,
              value: 49
            },
            {
              timestamp: 1423742720,
              value: 30
            }
          ]
        },
        {
          min: 10,
          max: 40,
          yellow_min: 10,
          red_min: 2,
          units: "g/day",
          label: "Oat, barley",
          samples: [
            {
              timestamp: 1420798224,
              value: 10
            },
            {
              timestamp: 1423742720,
              value: 18
            }
          ]
        },
        {
          min: 18,
          max: 27,
          yellow_min: 17,
          red_min: 10,
          units: "g/day",
          label: "Rice",
          samples: [
            {
              timestamp: 1420798224,
              value: 15
            },
            {
              timestamp: 1423742720,
              value: 20
            }
          ]
        },
        {
          min: 1,
          max: 10,
          yellow_min: 2,
          red_min: 1,
          units: "g/day",
          label: "Pasta",
          samples: [
            {
              timestamp: 1420798224,
              value: 4
            },
            {
              timestamp: 1423742720,
              value: 5
            }
          ]
        },
        {
          min: 3,
          max: 13,
          yellow_min: 3,
          red_min: 1,
          units: "g/day",
          label: "Other cereals",
          samples: [
            {
              timestamp: 1420798224,
              value: 4
            },
            {
              timestamp: 1423742720,
              value: 2
            }
          ]
        }
      ]
    },
    {
      label: "Fats",
      measurements:[
        {
          min: 1,
          max: 40,
          yellow_min: 3,
          red_min: 1,
          yellow_max: 30,
          red_max: 50,
          units: "g/day",
          label: "Oils",
          samples: [
            {
              timestamp: 1420798224,
              value: 10
            },
            {
              timestamp: 1423742720,
              value: 40
            }
          ]
        },
        {
          min: 10,
          max: 20,
          yellow_max: 20,
          red_max: 22,
          units: "g/day",
          label: "Margarines",
          samples: [
            {
              timestamp: 1420798224,
              value: 19
            },
            {
              timestamp: 1423742720,
              value: 23
            }
          ]
        },
        {
          min: 10,
          max: 30,
          yellow_max: 30,
          red_max: 38,
          units: "g/day",
          label: "Butter",
          samples: [
            {
              timestamp: 1420798224,
              value: 37
            },
            {
              timestamp: 1423742720,
              value: 39
            }
          ]
        },
        {
          min: 8,
          max: 20,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 20,
          red_max: 30,
          units: "g/day",
          label: "Other fats",
          samples: [
            {
              timestamp: 1420798224,
              value: 18
            },
            {
              timestamp: 1423742720,
              value: 22
            }
          ]
        }
      ]
    },


    {
      label: "Fish, shellfish",
      measurements:[
        {
          min: 10,
          max: 40,
          yellow_min: 10,
          red_min: 1,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 34
            },
            {
              timestamp: 1423742720,
              value: 30
            }
          ]
        }
      ]
    },



    {
      label: "Egg",
      measurements:[
        {
          min: 10,
          max: 40,
          yellow_min: 10,
          red_min: 1,
          units: "g/day",
          label: "",
          samples: [
            {
              timestamp: 1420798224,
              value: 34
            },
            {
              timestamp: 1423742720,
              value: 30
            }
          ]
        }
      ]
    },



    {
      label: "Meat",
      measurements:[
        {
          min: 1,
          max: 25,
          yellow_min: 10,
          red_min: 5,
          yellow_max: 32,
          red_max: 35,
          units: "g/day",
          label: "Beef",
          samples: [
            {
              timestamp: 1420798224,
              value: 32
            },
            {
              timestamp: 1423742720,
              value: 35
            }
          ]
        },
        {
          min: 0,
          max: 25,
          yellow_max: 27,
          red_max: 30,
          units: "g/day",
          label: "Pork",
          samples: [
            {
              timestamp: 1420798224,
              value: 32
            },
            {
              timestamp: 1423742720,
              value: 29
            }
          ]
        },
        {
          min: 0,
          max: 50,
          yellow_max: 49,
          red_max: 50,
          units: "g/day",
          label: "Poultry",
          samples: [
            {
              timestamp: 1420798224,
              value: 39
            },
            {
              timestamp: 1423742720,
              value: 45
            }
          ]
        },
        {
          min: 0,
          max: 30,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "Sausages",
          samples: [
            {
              timestamp: 1420798224,
              value: 8
            },
            {
              timestamp: 1423742720,
              value: 12
            }
          ]
        },
        {
          min: 0,
          max: 30,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "Cold cuts",
          samples: [
            {
              timestamp: 1420798224,
              value: 25
            },
            {
              timestamp: 1423742720,
              value: 30
            }
          ]
        },
        {
          min: 0,
          max: 30,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "Mutton, games, offal",
          samples: [
            {
              timestamp: 1420798224,
              value: 8
            },
            {
              timestamp: 1423742720,
              value: 12
            }
          ]
        }
      ]
    },



    {
      label: "Milk",
      measurements:[
        {
          min: 1,
          max: 25,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 32,
          red_max: 35,
          units: "dl/day",
          label: "Milks",
          samples: [
            {
              timestamp: 1420798224,
              value: 7
            },
            {
              timestamp: 1423742720,
              value: 6
            }
          ]
        },
        {
          min: 0,
          max: 25,
          yellow_min: 0,
          red_min: 0,
          yellow_max: 27,
          red_max: 30,
          units: "dl/day",
          label: "Sour milk products",
          samples: [
            {
              timestamp: 1420798224,
              value: 2
            },
            {
              timestamp: 1423742720,
              value: 1
            }
          ]
        },
        {
          min: 0,
          max: 50,
          yellow_max: 49,
          red_max: 50,
          units: "g/day",
          label: "Cheese",
          samples: [
            {
              timestamp: 1420798224,
              value: 41
            },
            {
              timestamp: 1423742720,
              value: 45
            }
          ]
        },
        {
          min: 0,
          max: 30,
          yellow_min: 2,
          red_min: 1,
          yellow_max: 30,
          red_max: 40,
          units: "g/day",
          label: "Other milk products",
          samples: [
            {
              timestamp: 1420798224,
              value: 27
            },
            {
              timestamp: 1423742720,
              value: 24
            }
          ]
        }
      ]
    },
  ];

</script>

<script src="https://interact.oulu.fi/hFigures/hFigures/hFigures.js" type="application/javascript"></script>

<script type="text/javascript">
  var w = 1700;
  var className = "hGraph-container";
  var hFigureInstance = HealthFigure(groups, w, className, {
    minScale: 0.45
  }); // from data.js
  var additionalFigure = hFigureInstance.plotAt(0);

//setTimeout(function(){ $(".hGraph-container svg .hFigure-wrapper").attr("transform", "translate(400,600)scale(0.45)"); }, 3000);
//$(".hGraph-container svg .hFigure-wrapper").attr("transform", "translate(800,500)scale(0.45)");
//$(".hGraph-container svg").attr("transform", "translate(500,0)");

</script>

<script type="text/javascript">
  var secret = atob(getURLParameter('secret'));
  var id = secret ? secret : "id1";

  $.date = function(dateObject) {
    var d = new Date(dateObject);
    var day = d.getDate();
    var month = d.getMonth() + 1;
    var year = d.getFullYear();
    var date = day + "." + month + "." + year;

    return date;
  };

</script>

{% endblock %}
